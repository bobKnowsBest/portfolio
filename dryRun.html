<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>Feature Layer - display results as an InfoWindow onHover</title>

    <link rel="stylesheet" href="https://js.arcgis.com/3.16/dijit/themes/tundra/tundra.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.16/esri/css/esri.css">
    <style>
      html, body, #mapDiv {
        padding:0;
        margin:0;
        height:100%;
      }
      #mapDiv {
        position: relative;
      }
	   #legendPane {
     position: absolute;
	 top:1%;
	 left:5%;
	 right:5%;
	 height:35%;
	 width:20%;
	 border: 3px solid silver;
	 padding:8px;
	 
   overflow-y:scroll;
	  border-radius: 25x;
	 
	 background-color:grey;
	 z-index: 10;
    }
	#btn1 {
        height:10%;width:55%;
      }
	  #btn2 {
        height:10%;width:55%;
      }
	  #btn3 {
        height:10%;width:55%;
      }
      @media (max-width: 800px) {
	
    </style>

    <script src="https://js.arcgis.com/3.16/"></script>
    <script>
	var i = 3;
	var w = 3;
	var z = 3;
	myArray = [];
	wetlandArray = [];
	
	var clearArray = [];
      var map, dialog;
      require([
        "esri/map", "esri/layers/FeatureLayer",
        "esri/symbols/SimpleFillSymbol", "esri/symbols/SimpleLineSymbol",
        "esri/renderers/SimpleRenderer", "esri/graphic", "esri/lang",
        "esri/Color", "dojo/number", "dojo/dom-style",
        "dijit/TooltipDialog", "dijit/popup", "dojo/domReady!"
      ], function(
        Map, FeatureLayer,
        SimpleFillSymbol, SimpleLineSymbol,
        SimpleRenderer, Graphic, esriLang,
        Color, number, domStyle,
        TooltipDialog, dijitPopup
      ) {
        map = new Map("mapDiv", {
          basemap: "satellite",
          center: [-91.8857, 43.2633],
          zoom: 13,
          slider: false
        });
		myArray.push(map);
		
		

wetlandArray.push("hello")
var wetlandLayer0 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh1/FeatureServer/0")
	wetlandArray.push(wetlandLayer0);
var wetlandLayer1 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh2/FeatureServer/0")
	wetlandArray.push(wetlandLayer1);

	var wetlandLayer2 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh3/FeatureServer/0")
	wetlandArray.push(wetlandLayer2);	
	
	

var wetlandLayer3 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh4/FeatureServer/0")
	wetlandArray.push(wetlandLayer3);
var wetlandLayer4 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh5/FeatureServer/0")
	wetlandArray.push(wetlandLayer4);
var wetlandLayer5 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh6/FeatureServer/0")
	wetlandArray.push(wetlandLayer5);
var wetlandLayer6 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh7/FeatureServer/0")
	wetlandArray.push(wetlandLayer6);
var wetlandLayer7 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh8/FeatureServer/0")
	wetlandArray.push(wetlandLayer7);
var wetlandLayer8 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh9/FeatureServer/0")
	wetlandArray.push(wetlandLayer8);
var wetlandLayer9 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh10/FeatureServer/0")
	wetlandArray.push(wetlandLayer9);
var wetlandLayer10 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_watersh11/FeatureServer/0")
	wetlandArray.push(wetlandLayer10);

var wetlandLayer11 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters12/FeatureServer/0")
	wetlandArray.push(wetlandLayer11);
var wetlandLayer12 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters13/FeatureServer/0")
	wetlandArray.push(wetlandLayer12);
var wetlandLayer13 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters14/FeatureServer/0")
	wetlandArray.push(wetlandLayer13);
var wetlandLayer14 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters15/FeatureServer/0")
	wetlandArray.push(wetlandLayer14);
var wetlandLayer15 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters16/FeatureServer/0")
	wetlandArray.push(wetlandLayer15);
var wetlandLayer16 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters17/FeatureServer/0")
	wetlandArray.push(wetlandLayer16);
var wetlandLayer17 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters18/FeatureServer/0")
	wetlandArray.push(wetlandLayer17);
var wetlandLayer18 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters19/FeatureServer/0")
	wetlandArray.push(wetlandLayer18);
var wetlandLayer19 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters20/FeatureServer/0")
	wetlandArray.push(wetlandLayer19);
var wetlandLayer20 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters21/FeatureServer/0")
	wetlandArray.push(wetlandLayer20);
var wetlandLayer21 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters22/FeatureServer/0")
	wetlandArray.push(wetlandLayer21);
var wetlandLayer22 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters23/FeatureServer/0")
	wetlandArray.push(wetlandLayer22);
var wetlandLayer23 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters24/FeatureServer/0")
	wetlandArray.push(wetlandLayer23);

var wetlandLayer24 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters10/FeatureServer/0")
	wetlandArray.push(wetlandLayer24);
var wetlandLayer25 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/rastert_waters11/FeatureServer/0")
	wetlandArray.push(wetlandLayer25);

	
	
	
		
		
		var featureLayer1 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/arcgis/rest/services/wsLines/FeatureServer/0", {
          mode: FeatureLayer.MODE_SNAPSHOT,
          outFields: ["FID"]
        });
		
		
		
		
		
		myArray.push(featureLayer1);
		 myArray[1].setDefinitionExpression("RIGHT_FID = '0'");

        var symbol1 = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_NULL,
          new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID,new Color([0,0,0,1]),10), new Color([0,0,0,1]));
				myArray[1].setRenderer(new SimpleRenderer(symbol1));
				map.addLayer(myArray[1]);
		
				
		

        var featureLayer2 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/ArcGIS/rest/services/hydricSoilsMerged/FeatureServer/0", {
          mode: FeatureLayer.MODE_ONDEMAND,
		  autoGeneralize :true,
          outFields: ["FID", "MUNAME", "SLOPE_RANG", "FLOODFRQ"]
        });
		myArray.push(featureLayer2);
		myArray[2].setDefinitionExpression("SMUKIND = 'C'");

        var symbol3 = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_SOLID,
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID,
			new Color([241,165,55,0.5]),
           
            1
          ),
          new Color([241,165,55,0.5])
        );
        myArray[2].setRenderer(new SimpleRenderer(symbol3));
        map.infoWindow.resize(245,125);
        dialog = new TooltipDialog({
          id: "tooltipDialog",
          style: "position: absolute; width: 250px; font: normal normal normal 10pt Helvetica;z-index:100"
        });
        dialog.startup();
		var highlightSymbol = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_SOLID,
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID,
            new Color([255,0,0]), 3
          ),
          new Color([125,125,125,0.35])
        );
        //close the dialog when the mouse leaves the highlight graphic
        map.on("load", function(){
          map.graphics.enableMouseEvents();
          map.graphics.on("mouse-out", closeDialog);
        });
        //listen for when the onMouseOver event fires on the countiesGraphicsLayer
        //when fired, create a new graphic with the geometry from the event.graphic and add it to the maps graphics layer
        myArray[2].on("mouse-over", function(evt){
          var t = "<b>FID: ${FID}</b><br><b>Soil Type: ${MUNAME}</b><br><b>Slope: ${SLOPE_RANG}</b><br><b>Flood Frequency ${FLOODFRQ}</b>";
		  
		  var t2 = "${FID}";
		  
		
          var content = esriLang.substitute(evt.graphic.attributes,t);
		  var content2 = esriLang.substitute(evt.graphic.attributes,t2);
		  //contentArray.push(content2);
		  //alert(content);
          var highlightGraphic = new Graphic(evt.graphic.geometry,highlightSymbol);
		  
          map.graphics.add(highlightGraphic);
		  
	
		 
		

          dialog.setContent(content);
		  clearArray.push(content2);
		  

 
 
 
 if(content2 !== '1' || content2 !== "3" || content2 !== '9' || content2 !== '21' ||content2 !== '26'){ var symbolWet1 = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_SOLID,
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID,
             new Color([34,94,168,0.5]),
			
            1
          ),
		   new Color([34,94,168,0.5])
   
        );
        wetlandArray[content2].setRenderer(new SimpleRenderer(symbolWet1));};
		
		
		

		
		 if(content2 == '1' || content2 == "3" || content2 == '9' || content2 == '21' ||content2 == '26'){ var symbolWet1 = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_SOLID,
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID,
            new Color([222,45,38,0.5]),
            1
          ),
          new Color([222,45,38,0.5])
        );
        wetlandArray[content2].setRenderer(new SimpleRenderer(symbolWet1));};
 
 
 
  map.addLayer(wetlandArray[content2]);
 
 
 
 
 
 map.addLayer(myArray[2]);
 

          domStyle.set(dialog.domNode, "opacity", 0.85);
          dijitPopup.open({
          popup: dialog,
        x: evt.pageX,
      y: evt.pageY
     });
        });

	
		
	var featureLayer3 = new FeatureLayer("https://services6.arcgis.com/EnvQRR6Ah8vLF2fy/arcgis/rest/services/wetlandFinal/FeatureServer/0", {
          mode: FeatureLayer.MODE_SNAPSHOT,
          outFields: ["FID"]
        });
		
		
		
		var symbolWetlands = new SimpleFillSymbol(
          SimpleFillSymbol.STYLE_SOLID,
          new SimpleLineSymbol(
            SimpleLineSymbol.STYLE_SOLID,
            new Color([0, 0, 0,0.5]),
            1
          ),
          new Color([239, 242, 58,0.5])
        );
        featureLayer3.setRenderer(new SimpleRenderer(symbolWetlands));
		
		myArray.push(featureLayer3);
		
		
		
		
		
		
		
        function closeDialog() {
		
          map.graphics.clear();
		  
          dijitPopup.close(dialog);
		  
		  map.removeLayer(wetlandArray[clearArray[0]]);
		  clearArray.length = 0;
		  
		 
        }

      });
	 
	  
	 function myFunction(){
  
  if(i%2 == 0){myArray[0].addLayer(myArray[1])};
  
  if(i%2 !=0){myArray[0].removeLayer(myArray[1])};
  i = i + 1;
					};
					
					function myFunction2(){
  
  if(w%2 != 0){myArray[0].addLayer(myArray[2])};
  
  if(w%2 ==0){myArray[0].removeLayer(myArray[2])};
  w = w + 1;
					};
function myFunction3(){
  
  if(z%2 != 0){myArray[0].addLayer(myArray[3])};
  
  if(z%2 ==0){myArray[0].removeLayer(myArray[3])};
  z = z + 1;
					};
    </script>
  </head>
  <body class="tundra">
    <div id="mapDiv">
     
			<div id="legendPane"><br><button id= "btn1" onclick="myFunction()">Dry Run Boundary</button><br>
	  <button id= "btn2" onclick="myFunction2()">Hydric Soils</button><br>
	  <button id= "btn3" onclick="myFunction3()">Wetlands</button><br><br><img src="http://geog3540.github.io/jlmadden/page/Picture1.png" alt="Mountain View" style="width:30px;height:28px;z-index:15;"> Dry Run Boundary
	  
	  
	  <br><img src="http://geog3540.github.io/jlmadden/page/Picture4.png" alt="Mountain View" style="width:30px;height:28px;z-index:15;"> Hydric Soils
	  <br><img src="http://geog3540.github.io/jlmadden/page/Picture3.png" alt="Mountain View" style="width:30px;height:28px;z-index:15;"> Existing Wetlands
	  <br><img src="http://geog3540.github.io/jlmadden/page/Picture2.png" alt="Mountain View" style="width:30px;height:28px;z-index:15;">CREP Eligible  
	  <br><img src="http://geog3540.github.io/jlmadden/page/Picture5.png" alt="Mountain View" style="width:30px;height:28px;z-index:15;">Non CREP Eligible
	  
	  <br><br>
	   <a href="index.html">Project Homepage</a>
	  
	  
	  
			</div>
    </div>
	
  </body>
</html>






















